<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pavii ‚ù§Ô∏è Sakthii</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover">

<style>
body{
  margin:0;height:100vh;
  background:radial-gradient(circle at top,#2a003d,#140021);
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display",Arial;
  display:flex;align-items:center;justify-content:center;
  color:#fff;
}

/* Layout */
.app{width:100%;max-width:420px;padding:20px;}
.card{
  background:rgba(0,0,0,.55);
  backdrop-filter:blur(14px);
  border-radius:24px;
  padding:32px 24px;
  box-shadow:0 24px 50px rgba(0,0,0,.45);
}

/* Screens */
.screen{display:none;flex-direction:column;align-items:center;text-align:center;}
.screen.active{display:flex}

/* Typing text */
.type{
  width:100%;
  max-width:320px;
  font-size:18px;
  margin-bottom:18px;
  min-height:26px;
}
.title{font-size:26px;font-weight:600}

/* Buttons */
.btn{
  width:100%;
  max-width:320px;
  padding:14px;
  margin-top:12px;
  border:none;
  border-radius:14px;
  background:#ff4d6d;
  color:#fff;
  font-size:17px;
  opacity:0;
}
.btn.secondary{background:rgba(255,255,255,.12)}
.btn.show{opacity:1}

/* Input */
input{
  width:100%;
  max-width:320px;
  padding:14px;
  font-size:18px;
  border-radius:12px;
  border:none;
  text-align:center;
  margin-top:12px;
}

/* Game buttons */
.gameRow{display:flex;gap:16px;width:100%;max-width:320px}
.gameBtn{
  flex:1;height:120px;border-radius:22px;
  font-size:40px;border:none;background:#ff4d6d;
}

/* Task */
.task{font-size:20px;margin:22px 0}
</style>
</head>

<body>

<!-- üîä SOUNDS -->
<audio id="sndTap" preload="auto"
src="data:audio/mp3;base64,//uQxAA..."></audio>
<audio id="sndType" preload="auto"
src="data:audio/mp3;base64,//uQxAA..."></audio>
<audio id="sndDone" preload="auto"
src="data:audio/mp3;base64,//uQxAA..."></audio>
<audio id="sndKiss" preload="auto"
src="data:audio/mp3;base64,//uQxAA..."></audio>
<audio id="sndTouch" preload="auto"
src="data:audio/mp3;base64,//uQxAA..."></audio>

<div class="app">
<div class="card">

<!-- WELCOME -->
<div class="screen active" id="welcome">
  <div class="type title" data-text="Welcome to Sakthii Game üíñ"></div>
  <div class="type" data-text="Are you Pavii?"></div>
  <button class="btn" onclick="tap();go('valentine')">YES</button>
  <button class="btn secondary" onclick="tap();go('denied')">NO</button>
</div>

<!-- DENIED -->
<div class="screen" id="denied">
  <div class="type title" data-text="Access Denied"></div>
  <div class="type" data-text="Only Pavii can enter"></div>
  <button class="btn" onclick="tap();go('welcome')">Back</button>
</div>

<!-- VALENTINE -->
<div class="screen" id="valentine">
  <div class="type title" data-text="Hey Pavii üíñ"></div>
  <div class="type" data-text="Is Sakthii near you?"></div>
  <button class="btn" onclick="tap();go('passcode')">YES</button>
  <button class="btn secondary" onclick="tap();go('bring')">NO</button>
</div>

<!-- BRING -->
<div class="screen" id="bring">
  <div class="type" data-text="Please bring Sakthii with you üòä"></div>
  <button class="btn" onclick="tap();go('valentine')">Back</button>
</div>

<!-- PASSCODE -->
<div class="screen" id="passcode">
  <div class="type title" data-text="Enter Passcode"></div>
  <input id="code" placeholder="****">
  <button class="btn" onclick="tap();verify()">VERIFY</button>
  <div id="error"></div>
</div>

<!-- CONGRATS -->
<div class="screen" id="congrats">
  <div class="type title" data-text="Super Congratulations!!"></div>
  <div class="type" data-text="Love touch & kiss game unlocked"></div>
  <button class="btn" onclick="tap();startGame()">START GAME</button>
</div>

<!-- GAME -->
<div class="screen" id="gameScreen">
  <div class="gameRow">
    <button class="gameBtn" onclick="tap();playKiss()">üíã</button>
    <button class="gameBtn" onclick="tap();playTouch()">‚úã</button>
  </div>
</div>

<!-- TASK -->
<div class="screen" id="taskScreen">
  <div class="type task" id="taskText"></div>
  <button class="btn" onclick="tap();backToGame()">NEXT</button>
</div>

</div>
</div>

<script>
/* üéß SOUND HELPERS */
let audioUnlocked=false;
function unlockAudio(){
  if(audioUnlocked) return;
  [sndTap,sndType,sndDone,sndKiss,sndTouch].forEach(a=>{
    a.volume=.25; a.play().catch(()=>{}); a.pause(); a.currentTime=0;
  });
  audioUnlocked=true;
}
function tap(){ unlockAudio(); sndTap.currentTime=0; sndTap.play(); }
function playType(){ sndType.currentTime=0; sndType.play(); }
function done(){ sndDone.currentTime=0; sndDone.play(); }
function playKiss(){ sndKiss.play(); pick('kiss'); }
function playTouch(){ sndTouch.play(); pick('touch'); }

/* Typing */
const TYPE_SPEED=85;
function typeText(el,text,cb){
  el.textContent="";
  let i=0;
  const t=setInterval(()=>{
    el.textContent+=text[i++];
    playType();
    if(i>=text.length){
      clearInterval(t);
      done();
      cb&&setTimeout(cb,500);
    }
  },TYPE_SPEED);
}

function playTyping(screen){
  const texts=[...screen.querySelectorAll('.type')];
  const buttons=[...screen.querySelectorAll('.btn')];
  buttons.forEach(b=>b.classList.remove('show'));
  let idx=0;
  function next(){
    if(idx<texts.length){
      typeText(texts[idx],texts[idx].dataset.text||"",()=>{idx++;next();});
    }else{
      buttons.forEach((b,i)=>setTimeout(()=>b.classList.add('show'),i*300));
    }
  }
  next();
}

function go(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  const screen=document.getElementById(id);
  screen.classList.add('active');
  playTyping(screen);
}

/* Passcode */
function verify(){
  if(code.value==="9536") go('congrats');
  else error.textContent="Wrong passcode";
}

/* Tasks */
const kissTasks=[
  "Kiss your partner on the forehead",
  "Kiss your partner on the cheeks",
  "Kiss your partner on the neck",
  "Kiss your partner on the jawline",
  "Kiss your partner on the collarbone",
  "Kiss your partner on the shoulder"
];
const touchTasks=[
  "Touch your partner‚Äôs hand",
  "Touch your partner‚Äôs cheek",
  "Touch your partner‚Äôs shoulder",
  "Touch your partner‚Äôs waist",
  "Touch your partner‚Äôs back"
];
function randomFrom(a){return a[Math.floor(Math.random()*a.length)]}

function startGame(){ go('gameScreen'); }
function pick(type){
  taskText.dataset.text=type==="kiss"?randomFrom(kissTasks):randomFrom(touchTasks);
  go('taskScreen');
}
function backToGame(){ go('gameScreen'); }

/* Init */
playTyping(document.getElementById('welcome'));
</script>

</body>
</html>